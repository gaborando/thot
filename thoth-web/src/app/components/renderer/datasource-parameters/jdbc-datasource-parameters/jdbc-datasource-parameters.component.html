<form #frm>
  <ion-item>
    <ion-label>Datasource URL</ion-label>
    <ion-input name="url" [(ngModel)]="jdbcDatasourceParameters.url" type="url"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label>Datasource Username</ion-label>
    <ion-input name="username" [(ngModel)]="jdbcDatasourceParameters.username" #username type="text"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label>Datasource Password</ion-label>
    <ion-input name="password" [(ngModel)]="jdbcDatasourceParameters.password" type="password"></ion-input>
  </ion-item>

  <div class="ion-margin">

    <ion-label>Query</ion-label>
  </div>
  <div class="ion-margin-horizontal">
    <ngx-codemirror (codeMirrorLoaded)="codeLoaded($event)" name="query"
                    (keyup)="detectQueryParameters()"
                    [(ngModel)]="jdbcDatasourceParameters.query"
                    [options]="{
    theme: 'default',
    autoRefresh: true,
    mode: 'sql',
    inputStyle: 'textarea',
    lineNumbers: true
  }" [autoFocus]="true"
    ></ngx-codemirror>
  </div>
  <ion-note slot="helper" *ngIf="queryParams.length > 0">
    Detected parameters: {{queryParams.join(",")}}
  </ion-note>
  <ion-note slot="helper" *ngIf="checkError">
    <ion-text color="danger">
      {{checkError}}
    </ion-text>
  </ion-note>
  <ion-item-divider></ion-item-divider>


</form>

<div style="height: 30px"></div>
<ion-grid>
  <ion-row>
    <ion-col>
      Detected Properties
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size="4" *ngFor="let p of detectedProperties">{{p}}</ion-col>
  </ion-row>
</ion-grid>



